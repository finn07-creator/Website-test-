<!DOCTYPE html>

<html lang="nl">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Tijger Knuffel Shop</title>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;700&display=swap" rel="stylesheet">
    <style>
        :root {
            --bg-light: #fff;
            --bg-dark: #111;
            --text-light: #111;
            --text-dark: #fff;
            --accent: #000;
            --muted: #666;
            --card: #f9f9f9;
            --transition: 0.3s ease;
        }

        * {
            box-sizing: border-box;
            font-family: 'Inter', sans-serif;
        }

        body {
            margin: 0;
            background: var(--bg-light);
            color: var(--text-light);
            transition: all var(--transition);
        }

        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 16px 20px;
            background: #fff;
            border-bottom: 1px solid #ccc;
            position: sticky;
            top: 0;
            z-index: 1000;
        }

        nav a {
            margin-left: 12px;
            text-decoration: none;
            color: var(--muted);
            transition: color var(--transition);
        }

        nav a:hover {
            color: var(--accent);
        }

        .theme-toggle {
            margin-left: 12px;
            cursor: pointer;
            padding: 6px 12px;
            border-radius: 8px;
            border: 1px solid #ccc;
            background: #fff;
            color: var(--text-light);
        }

        main {
            max-width: 1000px;
            margin: 0 auto;
            padding: 22px;
            position: relative;
        }

        .page {
            opacity: 0;
            transform: translateY(20px);
            position: absolute;
            top: 0;
            left: 0;
            width: 100%;
            transition: all 0.4s ease;
            pointer-events: none;
        }

        .page.active {
            opacity: 1;
            transform: translateY(0);
            position: relative;
            pointer-events: auto;
        }

        .product {
            display: grid;
            grid-template-columns: 1fr 1fr;
            gap: 24px;
            align-items: center;
        }

        .card {
            background: var(--card);
            padding: 18px;
            border-radius: 14px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.06);
            color: var(--text-light);
            transition: all var(--transition);
        }

        .img-wrap {
            display: flex;
            justify-content: center;
            align-items: center;
            padding: 12px;
            position: relative;
            height: 300px;
            background: #ccc;
            border-radius: 12px;
        }

        .img-wrap img {
            max-width: 100%;
            max-height: 100%;
            border-radius: 12px;
        }

        .switch-btn {
            position: absolute;
            bottom: 10px;
            left: 50%;
            margin-left: -70px;
            width: 140px;
            text-align: center;
            padding: 10px 14px;
            background: #000;
            color: #fff;
            border: none;
            border-radius: 10px;
            cursor: pointer;
            font-weight: 700;
        }

        .name {
            font-size: 22px;
            font-weight: 700;
            margin: 8px 0;
        }

        .price {
            color: var(--text-light);
            font-weight: 700;
            font-size: 20px;
        }

        .desc {
            color: var(--muted);
            line-height: 1.5;
        }

        button {
            background: var(--accent);
            border: none;
            color: var(--text-dark);
            padding: 10px 14px;
            border-radius: 10px;
            font-weight: 700;
            cursor: pointer;
            transition: all var(--transition);
        }

        button:hover:not(.switch-btn) {
            transform: translateY(-2px);
        }

        .qty {
            display: flex;
            gap: 8px;
            align-items: center;
        }

        .qty button {
            background: var(--bg-light);
            border: 1px solid var(--accent);
            color: var(--accent);
            width: 36px;
            height: 36px;
            display: grid;
            place-items: center;
        }

        .cart-badge {
            background: var(--accent);
            color: var(--text-dark);
            padding: 4px 8px;
            border-radius: 100px;
            font-weight: 700;
            margin-left: 8px;
            font-size: 13px;
        }

        .cart-list {
            display: flex;
            flex-direction: column;
            gap: 12px;
        }

        .cart-item {
            display: flex;
            gap: 12px;
            align-items: center;
        }

        .cart-item .thumb {
            width: 76px;
            height: 76px;
            border-radius: 10px;
            background: #fff;
            display: grid;
            place-items: center;
            color: var(--accent);
        }

        .muted {
            color: var(--muted);
        }

        footer {
            padding: 24px;
            text-align: center;
            color: var(--muted);
        }

        /* --- MOBIEL FIX --- */
        @media(max-width:800px) {
            .product {
                display: block;
                gap: 16px;
            }

            .card.img-wrap {
                height: auto;
            }

            .img-wrap img {
                max-width: 100%;
                height: auto;
            }

            main {
                padding: 16px;
            }

            nav a {
                display: none;
            }
        }
    </style>


</head>

<body>

    <header>
        <div class="brand">
            <div style="font-weight:700">Tijger Knuffel</div>
            <div class="muted" style="font-size:12px"></div>
        </div>
        <nav>
            <a href="#product">Product</a>
            <a href="#cart">Winkelmandje</a>
            <a href="#about">Info</a>
            <button class="theme-toggle" id="themeToggle">Thema</button>
            <a href="#cart"><span id="cart-count" class="cart-badge" style="display:none">0</span></a>
        </nav>
    </header>

    <main id="app">
        <section id="product" class="page active">
            <div class="product">
                <div class="card img-wrap">
                    <img id="product-img" src="" alt="Tijger Knuffel">
                    <button id="switch-img" class="switch-btn">Wissel afbeelding</button>
                </div>
                <div>
                    <div class="card">
                        <div class="name">Zachte Tijger Knuffel 1 m</div>
                        <div class="price" id="product-price">€39.99</div>
                        <p class="desc">Deze knuffel is super zacht, veilig voor kinderen en perfect als sfeer maker op
                            je bed. Gemaakt van hypoallergene materialen.</p>
                        <div style="display:flex;gap:12px;align-items:center;margin-top:12px">
                            <div class="qty">
                                <button id="dec">-</button>
                                <div id="qty" style="min-width:28px;text-align:center;font-weight:700">1</div>
                                <button id="inc">+</button>
                            </div>
                            <button id="add-to-cart">Voeg toe aan mandje</button>
                        </div>
                    </div>
                    <div style="margin-top:14px" class="card muted" id="tip-card"><strong>Gratis verzending vanaf
                            €50</strong></div>
                </div>
            </div>
        </section>


        <section id="cart" class="page">
            <div class="card">
                <h2>Winkelmandje</h2>
                <div id="cart-contents" class="cart-list muted">Je mandje is leeg.</div>
                <div style="margin-top:12px;display:flex;justify-content:space-between;align-items:center">
                    <div class="muted"></div>
                    <div>
                        <button id="clear-cart">Leeg mandje</button>
                        <button id="checkout" style="margin-left:8px">Afrekenen</button>
                    </div>
                </div>
            </div>
        </section>

        <section id="about" class="page">
            <div class="card">
                <h2>Waarom verkopen we tijgers?</h2>
                <p class="muted">Geen zorgen, het zijn maar knuffeltijgers! ...</p>
            </div>
        </section>


    </main>

    <footer></footer>

    <script>
        const STORAGE_KEY = 'tk_cart_perfect';
        const product = { id: 'tijger-40', name: 'Zachte Tijger Knuffel 1 m', price: 39.99 };
        let qty = 1;

        function readCart() { try { return JSON.parse(localStorage.getItem(STORAGE_KEY)) || {} } catch (e) { return {} } }
        function writeCart(cart) { localStorage.setItem(STORAGE_KEY, JSON.stringify(cart)); renderCartCount(); renderCartPage(); }
        function addToCart() { const cart = readCart(); if (!cart[product.id]) cart[product.id] = { ...product, qty: 0 }; cart[product.id].qty += qty; writeCart(cart); showToast('Toegevoegd!'); }
        function removeFromCart(id) { const cart = readCart(); delete cart[id]; writeCart(cart); }
        function increaseItem(id) { const cart = readCart(); if (cart[id]) { cart[id].qty += 1; writeCart(cart); } }
        function decreaseItem(id) { const cart = readCart(); if (cart[id]) { cart[id].qty -= 1; if (cart[id].qty <= 0) delete cart[id]; writeCart(cart); } }

        function renderCartCount() { const cart = readCart(); const count = Object.values(cart).reduce((s, i) => s + i.qty, 0); const el = document.getElementById('cart-count'); if (count > 0) { el.style.display = 'inline-block'; el.textContent = count; } else el.style.display = 'none'; }

        function renderCartPage() {
            const container = document.getElementById('cart-contents'); const cart = readCart();
            if (Object.keys(cart).length === 0) { container.textContent = 'Je mandje is leeg.'; return; }
            container.innerHTML = '';
            Object.values(cart).forEach(item => {
                const div = document.createElement('div'); div.className = 'cart-item card';
                div.innerHTML = '<div class="thumb">' + item.name[0] + '</div><div style="flex:1"><div style="font-weight:700">' + item.name + '</div><div class="muted">€' + item.price.toFixed(2) + ' × ' + item.qty + '</div></div><div style="display:flex;flex-direction:column;gap:6px;align-items:flex-end"><div style="font-weight:700">€' + (item.price * item.qty).toFixed(2) + '</div><div style="display:flex;gap:6px"></div></div>';
                const btnDec = document.createElement('button'); btnDec.textContent = '-'; btnDec.onclick = () => decreaseItem(item.id);
                const btnInc = document.createElement('button'); btnInc.textContent = '+'; btnInc.onclick = () => increaseItem(item.id);
                const btnRemove = document.createElement('button'); btnRemove.textContent = 'Verwijder'; btnRemove.style.background = '#000'; btnRemove.style.color = '#fff'; btnRemove.onclick = () => removeFromCart(item.id);
                div.querySelector('div[style*="display:flex;gap:6px"]').append(btnDec, btnInc, btnRemove);
                container.appendChild(div);
            });
            const total = Object.values(cart).reduce((s, i) => s + i.price * i.qty, 0);
            const totalDiv = document.createElement('div'); totalDiv.style.cssText = 'margin-top:12px;text-align:right;font-weight:700'; totalDiv.textContent = 'Totaal: €' + total.toFixed(2); container.appendChild(totalDiv);
        }

        function showPage(id) { document.querySelectorAll('.page').forEach(p => p.classList.remove('active')); const el = document.getElementById(id) || document.getElementById('product'); el.classList.add('active'); window.location.hash = '#' + id; if (id === 'cart') renderCartPage(); }
        function initRouting() { const hash = (location.hash || '#product').replace('#', ''); showPage(hash); window.addEventListener('hashchange', () => { showPage((location.hash || '#product').replace('#', '')); }); }

        function showToast(msg) {
            const t = document.createElement('div'); t.textContent = msg; t.style.position = 'fixed'; t.style.left = '50%'; t.style.transform = 'translateX(-50%)'; t.style.bottom = '92px'; t.style.background = '#111'; t.style.color = '#fff'; t.style.padding = '10px 14px'; t.style.borderRadius = '10px'; t.style.opacity = '0'; t.style.transition = 'opacity .2s,bottom .2s'; document.body.appendChild(t);
            requestAnimationFrame(() => { t.style.opacity = '1'; t.style.bottom = '102px'; });
            setTimeout(() => { t.style.opacity = '0'; t.style.bottom = '82px'; setTimeout(() => t.remove(), 300); }, 1800);
        }

        document.addEventListener('DOMContentLoaded', () => {
            initRouting();
            renderCartCount();

            document.getElementById('inc').addEventListener('click', () => { qty++; document.getElementById('qty').textContent = qty; });
            document.getElementById('dec').addEventListener('click', () => { qty = Math.max(1, qty - 1); document.getElementById('qty').textContent = qty; });
            document.getElementById('add-to-cart').addEventListener('click', addToCart);
            document.getElementById('clear-cart').addEventListener('click', () => { localStorage.removeItem(STORAGE_KEY); renderCartPage(); renderCartCount(); showToast('Mandje is geleegd'); });

            // STRIPE CHECKOUT
            document.getElementById('checkout').addEventListener('click', () => {
                const STRIPE_URL = ''; // hier vervang je met jouw Stripe link
                window.location.href = STRIPE_URL;
            });

            // FOTO SWITCH
            const images = [
                '',
                'https://example.com/afbeelding2.png',
                'https://example.com/afbeelding3.png'
            ];
            let currentImg = 0;
            const productImg = document.getElementById('product-img');
            document.getElementById('switch-img').addEventListener('click', () => {
                currentImg = (currentImg + 1) % images.length;
                productImg.src = images[currentImg];
            });



            // THEMA TOGGLE inclusief prijs update
            let darkMode = false;
            const applyTheme = () => {
                document.body.style.background = darkMode ? 'var(--bg-dark)' : 'var(--bg-light)';
                document.body.style.color = darkMode ? 'var(--text-dark)' : 'var(--text-light)';

                document.querySelectorAll('.card').forEach(c => {
                    c.style.background = darkMode ? '#222' : 'var(--card)';
                    c.style.color = darkMode ? '#fff' : 'var(--text-light)';
                });

                document.querySelectorAll('button').forEach(b => {
                    if (b.classList.contains('switch-btn')) {
                        b.style.background = darkMode ? '#fff' : '#000';
                        b.style.color = darkMode ? '#000' : '#fff';
                    } else {
                        b.style.background = darkMode ? '#fff' : '#000';
                        b.style.color = darkMode ? '#000' : '#fff';
                    }
                });

                document.querySelector('header').style.background = darkMode ? '#222' : '#fff';

                // prijs ook aanpassen
                const priceEl = document.getElementById('product-price');
                if (priceEl) priceEl.style.color = darkMode ? '#fff' : 'var(--text-light)';
            };

            applyTheme();
            document.getElementById('themeToggle').addEventListener('click', () => {
                darkMode = !darkMode;
                applyTheme();
            });
        });

        window.removeFromCart = removeFromCart;
        window.increaseItem = increaseItem;
        window.decreaseItem = decreaseItem;
    </script>

</body>

</html>
